function fixQuestionPosition(){$(".make-css-page").length>0&&$(".container-question").each(function(){var t=$(this).height(),e=$(this).find(".question").height();$(this).find(".question").css("margin-top",(t-e)/2-2)})}function setHeightBody(t,e){$(t).css("min-height",$(window).height()-$(".welcome-footer").outerHeight()-e)}function goto_make(t){var e=$("#make_name").val();""==e?$("#modal-confirm-name").modal("show"):($.cookie("makeName",e,{expires:7}),location.href=t)}function hideModalConfirmMake(){$("#modal-confirm-make").hide()}function goToFinish(){location.href="/css/cancel"}function checkPoint(t){var e=$(t).val();if(""===e){var o=$(t).attr("data-questionid"),a=$(".rateit[data-questionid="+o+"]"),i=a.rateit("value");i<3&&i>0?($(t).css("border","1px solid red"),$(t).attr("placeholder","＃コメントがあればご記入ください。")):i>=3&&($(t).css("border","1px solid #d2d6de"),$(t).removeAttr("placeholder"))}else $(t).css("border","1px solid #d2d6de"),$(t).removeAttr("placeholder")}function totalMark(t){var e=$(t).rateit("value"),o=$(t).attr("data-questionid"),a=$(".comment-question[data-questionid='"+o+"']");if(e<3&&e>0){var i=a.val();""===$.trim(i)&&(a.css("border","1px solid red"),a.attr("placeholder","＃コメントがあればご記入ください。"))}else e>=3&&(a.css("border","1px solid #d2d6de"),a.removeAttr("placeholder"));"tongquat"===t.id&&$(t).css("border","1px solid #d2d6de"),$(".total-point").html(getTotalPoint())}function getTotalPoint(){var t=0,e=0;$(".rateit").each(function(){var o=parseInt($(this).rateit("value"));"tongquat"!==$(this).attr("id")&&o>0&&(t++,e+=o)});var o=parseInt($("#tongquat").rateit("value"));return e=0===t?20*o:4*o+e/(5*t)*80,e.toFixed(2)}function confirm(t){var e=!1,o="";$("#modal-confirm").modal("hide"),$(".comment-question").css("border-color","#d2d6de"),$("#tongquat").css("border","none"),$("#comment-tongquat").css("border-color","#d2d6de");var t=$.parseJSON(t),a=parseInt($("#tongquat").rateit("value"));0==a&&(e=!0,o+="<p>"+t.totalMarkValidateRequired+"</p>",$("#tongquat").css("border","1px solid red"));var i=[];if($(".rateit").each(function(){var t=parseInt($(this).rateit("value"));t>0&&t<3&&""==$(".comment-question[data-questionid='"+$(this).attr("data-questionid")+"']").val()&&i.push($(this).attr("data-questionid"))}),i.length>0){for(var r=0;r<i.length;r++)$(".comment-question[data-questionid='"+i[r]+"']").css("border","1px solid red");o+="<p>"+t.questionCommentRequired+"</p>",e=!0}return e?($("#modal-alert .modal-body").html(o),$("#modal-alert").modal("show"),!1):($("#modal-confirm .modal-body").html("現在の点数は "+$(".total-point").html()+" 点です。アンケート結果を送信しますか。"),void $("#modal-confirm").modal("show"))}function submit(t,e){var o=$(".make-name").text(),a="test",i=getTotalPoint(),r=$("#proposed").val(),n=[];$(".rateit").each(function(){var t=parseInt($(this).rateit("value")),e=$(this).attr("data-questionid"),o=t,a=$(".comment-question[data-questionid='"+$(this).attr("data-questionid")+"']").val();n.push([e,o,a])}),$(".apply-click-modal").show(),$.ajax({url:baseUrl+"/css/saveResult",type:"post",data:{_token:t,arrayQuestion:n,make_name:o,make_email:a,totalMark:i,proposed:r,cssId:e}}).done(function(t){location.href=baseUrl+"css/success"}).fail(function(){alert("Ajax failed to fetch data")})}$(document).ready(function(){fixQuestionPosition()});