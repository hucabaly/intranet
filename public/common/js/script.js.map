{"version":3,"sources":["script.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"script.js","sourcesContent":["/**\n * option custom\n */\nvar optionCustomR = {\n    size: {\n        adminlte_sm: 767,\n        custom_sm: 1195\n    }\n};\n\n/**\n * select2 reload and trim text result\n */\nfunction selectSearchReload(option) {\n    optionDefault = {\n        showSearch: false\n    };\n    option = jQuery.extend(optionDefault, option);\n    if (option.showSearch) {\n        jQuery(\".select-search\").select2();\n    } else {\n        jQuery(\".select-search\").select2({\n            minimumResultsForSearch: Infinity\n        });\n    }\n    \n    jQuery('.select-search').each(function(i,k){\n        text = jQuery(this).find('option:selected').text().trim();\n        jQuery(this).siblings('.select2-container').find('.select2-selection__rendered').text(text);\n    });\n    jQuery('.select-search').on('select2:select', function (evt) {\n        text = jQuery(this).find('option:selected').text().trim();\n        jQuery(this).siblings('.select2-container').find('.select2-selection__rendered').text(text);\n    });\n}\n\njQuery(document).ready(function ($) {\n//    $('ul.dropdown-menu [data-toggle=dropdown]').on('click', function (event) {\n//        event.preventDefault();\n//        event.stopPropagation();\n//        if ($(this).parent().hasClass('open')) {\n//            $(this).parent().removeClass('open');\n//            $(this).parent().find('li.dropdown-submenu').removeClass('open');\n//        } else {\n//            $(this).parent().addClass('open');\n//        }\n//    });\n    \n    //modal delete confirm\n    $('.delete-confirm').removeAttr('disabled');\n    var buttonClickShowModal;\n    $('.delete-confirm').on('click', function (event) {\n        if($(this).hasClass('process')) { //check flag processed\n            return true;\n        }\n        event.preventDefault();\n        buttonClickShowModal = $(this);\n        $(this).addClass('process'); //set flag processing cofirm\n        $('#modal-delete-confirm').modal('show');\n    });\n    $('#modal-delete-confirm').on('show.bs.modal', function (e) {\n        var notification = buttonClickShowModal.data('noti');\n        if (notification) {\n            $(this).find('.modal-body .text-change').show().html(notification);\n            $(this).find('.modal-body .text-default').hide().html(notification);\n        } else {\n            $(this).find('.modal-body .text-change').hide();\n            $(this).find('.modal-body .text-default').show();\n        }\n    });\n    $('#modal-delete-confirm').on('hide.bs.modal', function (e) {\n        buttonClickShowModal.removeClass('process'); //remove flag processing cofirm\n    });\n    $('#modal-delete-confirm .modal-footer button').on('click', function (e) {\n        if ($(this).hasClass('btn-ok')) {\n            buttonClickShowModal.trigger('click');\n            $('#modal-delete-confirm').modal('hide');\n            return true;\n        }\n        $('#modal-delete-confirm').modal('hide');\n        return false;\n    });\n    \n    /**\n     * model warning\n     */\n    var buttonClickShowModalWarning;\n    $(document).on('click', '.warning-action', function (event) {\n        buttonClickShowModalWarning = $(this);\n        $('#modal-warning-notification').modal('show');\n        return false;\n    });\n    $('#modal-warning-notification').on('show.bs.modal', function (e) {\n        var notification = buttonClickShowModalWarning.data('noti');\n        if (notification) {\n            $(this).find('.modal-body .text-change').show().html(notification);\n            $(this).find('.modal-body .text-default').hide().html(notification);\n        } else {\n            $(this).find('.modal-body .text-change').hide();\n            $(this).find('.modal-body .text-default').show();\n        }\n    });\n    \n    /**\n     * form input dropdown\n     */\n    $('.form-input-dropdown .input-menu a').click(function(event) {\n        event.preventDefault();\n        var textHtml = $(this).html();\n        var dataValue = $(this).data('value');\n        $(this).parents('.form-input-dropdown').find('.input-show-data span').html(textHtml);\n        $(this).parents('.form-input-dropdown').find('.input').val(dataValue);\n    });\n});\n\njQuery(document).ready(function($) {\n    /* filter-grid action */\n    // get params from filter input\n    function getSerializeFilter()\n    {\n        var valueFilter, nameFilter, params;\n        params = '';\n        $('.filter-grid').each(function(i,k) {\n            valueFilter = $(this).val();\n            nameFilter = $(this).attr('name');\n            if (valueFilter && nameFilter) {\n                params += nameFilter + '=' + valueFilter + '&';\n            }\n        });\n        params += 'current_url=' + currentUrl;\n        return params;\n    }    \n    //filter request with param filter\n    function filterRequest()\n    {\n        data = getSerializeFilter();\n        $('.btn-search-filter .fa').removeClass('hidden');\n        $.ajax({\n            url: baseUrl + 'grid/filter/request',\n            type: 'GET',\n            data: data,\n            success: function() {\n                window.location.href = currentUrl;\n            }\n        });\n    }\n    //filter pager with param filter\n    function filterPager(dataSubmit)\n    {\n        if (dataSubmit == undefined) {\n            dataSubmit = {};\n        }\n        if (dataSubmit.page == undefined || ! dataSubmit.page) {\n            dataSubmit.page = $('.grid-pager form.form-pager input[name=page]').val();\n        }\n        if (dataSubmit.dir == undefined || ! dataSubmit.dir) {\n            dataSubmit.dir = $('.form-dir-order input[name=dir]').val();\n        }\n        if (dataSubmit.order == undefined || ! dataSubmit.order) {\n            dataSubmit.order = $('.form-dir-order input[name=order]').val();\n        }\n        dataSubmit.limit = $('.grid-pager select[name=limit] option:selected').data('value');\n        dataSubmit = {'filter_pager': dataSubmit, 'current_url': currentUrl};\n        $('.btn-search-filter .fa').removeClass('hidden');\n        $.ajax({\n            url: baseUrl + 'grid/filter/pager',\n            type: 'GET',\n            data: dataSubmit,\n            success: function() {\n                window.location.href = currentUrl;\n            }\n        });\n    }\n    \n    //input filter grid key down - request filter action\n    $(document).on('keydown','input.filter-grid',function(event) {\n        if(event.which == 13) {\n            filterRequest();\n            return false;\n        }\n    });\n    //reset filter\n    $(document).on('click','.btn-reset-filter',function(event) {\n        $('.btn-reset-filter .fa').removeClass('hidden');\n        $.ajax({\n            url: baseUrl + 'grid/filter/remove',\n            type: 'GET',\n            data: 'current_url=' + currentUrl,\n            success: function() {\n                window.location.href = currentUrl;\n            }\n        });\n        return false;\n    });\n    \n    //search filter button\n    $(document).on('click','.btn-search-filter',function(event) {\n        filterRequest();\n        return false;\n    });\n    \n    //pager \n    $('.grid-pager select[name=limit]').on('change', function(event) {\n        event.preventDefault();\n        filterPager({\n            page: 1\n        });\n    });\n    $('.grid-pager .pagination a').on('click', function(event) {\n        if ($(this).hasClass('disabled') || $(this).parent().hasClass('disabled')) {\n            return false;\n        }\n        page = $(this).data('page');\n        if (page) {\n            event.preventDefault();\n            filterPager({\n                page: page\n            });\n        }\n    });\n    $('.grid-pager .pagination form.form-pager').on('submit', function(event) {\n        event.preventDefault();\n        page = $(this).find('input[name=page]').val();\n        filterPager({\n            page: page\n        });\n    });\n    \n    //sort order\n    $('.sorting').on('click', function(event) {\n        order = $(this).data('order');\n        dir = $(this).data('dir');\n        if (! order || ! dir) {\n            return;\n        }\n        filterPager({\n            order: order,\n            dir: dir\n        });\n    });\n    \n    /* ---- endfilter-grid action */\n    \n    //menu mobile\n    $('.main-header .dropdown-menu').on('mouseover', function(event) {\n        $(this).parents('li.dropdown').addClass('hover');\n    });\n    $('.main-header .dropdown-menu').on('mouseleave', function(event) {\n        $(this).parents('li.dropdown').removeClass('hover');\n    });\n    \n    var domOpenChild = '<i class=\"fa fa-angle-left pull-right\"></i>';\n    menuMobileClone = $('#navbar-collapse .navbar-nav').clone();\n    menuMobileClone.find('li:has(ul)',this).each(function() {\n        $(this).children('a').append(domOpenChild);\n        $(this).children('a').removeAttr('class').removeAttr('data-toggle').removeAttr('aria-expanded');\n        $(this).addClass('treeview');\n        $(this).removeClass('dropdown');\n        $(this).removeClass('dropdown-submenu');\n        $(this).children('ul').removeClass('dropdown-menu');\n        $(this).children('ul').addClass('treeview-menu');\n    });\n    $('.main-sidebar .sidebar .sidebar-menu').html(menuMobileClone.html());\n    $.AdminLTE.layout.fix();\n    \n    $('.sidebar-toggle').on('click', function(event) {\n        windowWidth = $(window).width();\n        if (windowWidth > optionCustomR.size.adminlte_sm) {\n            if ($(\"body\").hasClass('sidebar-open')) {\n                $(\"body\").removeClass('sidebar-open').removeClass('sidebar-collapse').trigger('collapsed.pushMenu');\n            } else {\n                $(\"body\").addClass('sidebar-open').trigger('expanded.pushMenu');\n            }\n        }\n    });\n    \n    $('.main-sidebar .sidebar-menu  li.treeview  a').on('click', function(event) {\n        windowHeight = $(window).height();\n        sidebarHeight = $(\".sidebar\").height();\n        contentHeight = $(\".content-wrapper\").height();\n        if (! $(this).parent().hasClass('active')) { //menu open\n            if (windowHeight >= sidebarHeight) {\n                setTimeout(function () {\n                    $(\".content-wrapper\").css('min-height', windowHeight);\n                }, 600);\n            }\n        } else {\n            if (windowHeight < sidebarHeight) {\n                $(\".content-wrapper, .right-side\").css('min-height', sidebarHeight);\n            }\n        }\n    });\n    \n    $(document).mouseup(function (e){\n        var container = $(\"aside.main-sidebar\");\n        var mMenuToggle = $('.sidebar-toggle');\n        if (mMenuToggle.is(e.target)\n            || mMenuToggle.has(e.target).length !== 0\n        ){\n            return false;\n        }\n        else if (!container.is(e.target)\n            && container.has(e.target).length === 0\n        ){\n            $(\"body\").removeClass('sidebar-open').removeClass('sidebar-collapse').trigger('collapsed.pushMenu');\n        }\n    });\n    $(document).keyup(function(e) {\n        if (e.keyCode == 27) {\n            $(\"body\").removeClass('sidebar-open').removeClass('sidebar-collapse').trigger('collapsed.pushMenu');\n        }\n    });\n    //------------------end menu mobile\n\n});\n\n/*  table thead fixed  */ \n(function($){\n    function calculatorWidthThead(domTable) {\n        tbodyTrFirst = domTable.children('tbody');\n        if (! tbodyTrFirst.length) {\n            return;\n        }\n        tbodyTrFirst = tbodyTrFirst.children('tr:nth-child(2)');\n        if (! tbodyTrFirst.length) {\n            return;\n        }\n        tbodyTrFirst = tbodyTrFirst.children('td');\n        if (! tbodyTrFirst.length) {\n            return;\n        }\n        width = {};\n        tbodyTrFirst.each(function(i) {\n            width[i] = $(this).width();\n        });\n        return width;\n    }\n    \n    function fixThead(thisWrapper, THeadDom, tdTheadDom) {\n        thisWrapper.removeClass('fixing');\n        topHeightThead = THeadDom.offset().top;\n        $(window).scroll(function() {\n            topScroll = $(window).scrollTop();\n            if (topScroll > topHeightThead) {\n                thisWrapper.addClass('fixing');\n                widthTd = calculatorWidthThead(thisWrapper);\n                if (! widthTd) {\n                    thisWrapper.removeClass('fixing');\n                } else {\n                    tdTheadDom.each(function(i) {\n                        $(this).width(widthTd[i]);\n                    });\n                }\n            } else {\n                thisWrapper.removeClass('fixing');\n                tdTheadDom.removeAttr('style');\n            }\n        });\n    }\n    \n    $.fn.tableTHeadFixed = function(object) {\n        var thisWrapper = $(this),\n            THeadDom = thisWrapper.children('thead');\n        if (! THeadDom.length) {\n            return;\n        }\n        tdTheadDom = THeadDom.children('tr');\n        if (! tdTheadDom.length) {\n            return;\n        }\n        tdTheadDom = tdTheadDom.children();\n        if (! tdTheadDom.length) {\n            return;\n        }\n        \n        fixThead(thisWrapper, THeadDom, tdTheadDom);\n        $(window).load(function() {\n            if (thisWrapper.hasClass('fixing')) {\n                widthTd = calculatorWidthThead(thisWrapper);\n                tdTheadDom.each(function(i) {\n                    $(this).width(widthTd[i]);\n                });\n            }\n        });\n        \n        $(window).resize(function() {\n            fixThead(thisWrapper, THeadDom, tdTheadDom);\n        });\n    }\n})(jQuery);\n/* -----end table thead fixed  */ "],"sourceRoot":"/source/"}